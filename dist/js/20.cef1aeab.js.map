{"version":3,"file":"js/20.cef1aeab.js","mappings":"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","sources":["webpack://wms-web/./src/components/ChatMobile.vue","webpack://wms-web/src/components/ChatMobile.vue","webpack://wms-web/./src/components/ChatMobile.vue?36f0","webpack://wms-web/./src/components/ChatMobile.vue?2950"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-row',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"height\":\"calc(100vh - 70px)\"}},[_c('el-col',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"span\":4}},[_c('el-card',{staticStyle:{\"height\":\"100%\",\"background-color\":\"#f3f3f3\",\"overflow-y\":\"auto\",\"color\":\"#333\"}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":this.user.avatar}},[_vm._v(\"我\")])],1),_vm._l((_vm.users),function(user){return _c('div',{key:user.username,staticStyle:{\"padding\":\"5px 0\",\"text-align\":\"center\"},on:{\"click\":function($event){return _vm.history(user.username)}}},[_c('el-badge',{staticStyle:{\"width\":\"100%\"},attrs:{\"value\":user.newMessage,\"max\":10,\"hidden\":user.newMessage===0}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":user.avatar}},[_vm._v(\" \"+_vm._s(user.username.charAt(0))+\" \")])],1)],1)})],2)],1),_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticStyle:{\"height\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\",\"flex-direction\":\"column\"}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"line-height\":\"30px\",\"font-size\":\"large\",\"font-weight\":\"bold\",\"margin-bottom\":\"10px\"}},[_vm._v(\" \"+_vm._s(_vm.chatUser?(_vm.chatUser): \"请选择用户\")+\" \")]),_c('div',{ref:\"scrollDiv\",staticStyle:{\"height\":\"68vh\",\"width\":\"100%\",\"overflow\":\"auto\",\"margin-bottom\":\"10px\"},domProps:{\"innerHTML\":_vm._s(_vm.content)}}),_c('div',{staticStyle:{\"position\":\"fixed\",\"bottom\":\"30px\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-items\":\"center\",\"justify-content\":\"center\"}},[_c('el-input',{staticStyle:{\"width\":\"70%\",\"font-size\":\"medium\"},attrs:{\"autosize\":{ minRows: 2, maxRows: 3},\"placeholder\":\"消息\",\"resize\":\"none\",\"show-word-limit\":\"\",\"type\":\"textarea\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.send.apply(null, arguments)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('el-button',{staticClass:\"sendButton\",staticStyle:{\"font-size\":\"1em\",\"border-radius\":\"0 20px 20px 0\",\"box-shadow\":\"0 5px 20px 0 rgba(0, 0, 0, 0.3)\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.send}},[_vm._v(\"发送\")])],1)])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/multi-word-component-names -->\r\n<script>\r\n// import request from \"@/utils/request\";\r\nlet socket;\r\n\r\nexport default {\r\n  name: \"ChatMobile\",\r\n  data() {\r\n    return {\r\n      circleUrl: 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png',\r\n      chatBack: require('../assets/img/chatBack.jpg'),\r\n      user: JSON.parse(sessionStorage.getItem('CurUser')),\r\n      isCollapse: false,\r\n      users: [],\r\n      historyChat: [],\r\n      chatUser: '',\r\n      text: \"\",\r\n      messages: [],\r\n      content: ''\r\n    }\r\n\r\n  },\r\n  beforeMount() {\r\n    this.user = JSON.parse(sessionStorage.getItem('CurUser'));\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    history(userNo){\r\n      this.chatUser = userNo;\r\n      this.content = '';\r\n      this.users.forEach(user=>{\r\n        if(user.username === userNo){\r\n          user.newMessage=0;\r\n        }\r\n      })\r\n\r\n      this.$axios.post(this.$httpUrl + '/message/history', {\r\n        pageSize: '',\r\n        pageNum: '',\r\n        param: {\r\n          user1: userNo,\r\n          user2: this.user.no\r\n        }\r\n      }).then(res => res.data).then(res => {\r\n        if (res.code === 200) {\r\n         this.historyChat = res.data;\r\n          this.historyChat.forEach((chatItem) => {\r\n            // 对每个 chatItem 执行操作\r\n            if(chatItem.fromNo === userNo){\r\n              this.createContent(chatItem.fromAvatar ? chatItem.fromAvatar : this.circleUrl\r\n                  , null, chatItem.content);\r\n            }\r\n            else {\r\n              this.createContent(null\r\n                  , this.user.avatar ? this.user.avatar : this.circleUrl, chatItem.content);\r\n            }\r\n          });\r\n        }\r\n      })\r\n    },\r\n    send() {\r\n      if (!this.chatUser) {\r\n        this.$message({type: 'warning', message: \"请选择左侧聊天对象\"})\r\n        return;\r\n      }\r\n      if (!this.text || this.text === \"\") {\r\n        this.$message({type: 'warning', message: \"请输入内容\"})\r\n      } else {\r\n        if (typeof (WebSocket) == \"undefined\") {\r\n          console.log(\"您的浏览器不支持WebSocket\");\r\n        } else {\r\n          console.log(\"您的浏览器支持WebSocket\");\r\n          // 组装待发送的消息 json\r\n          // {\"from\": \"zhang\", \"to\": \"admin\", \"text\": \"聊天文本\"}\r\n          let message = {from: this.user.no, to: this.chatUser, text: this.text}\r\n          socket.send(JSON.stringify(message));  // 将组装好的json发送给服务端，由服务端进行转发\r\n          this.messages.push({user: this.user.no, text: this.text})\r\n          // 构建消息内容，本人消息\r\n          this.createContent(null, this.user.avatar ? this.user.avatar : this.circleUrl, this.text)\r\n          this.text = '';\r\n        }\r\n      }\r\n    },\r\n    createContent(remoteUser, nowUser, text) {  // 这个方法是用来将 json的聊天消息数据转换成 html的。\r\n      let html\r\n      // 当前用户消息\r\n      if (nowUser) { // nowUser 表示是否显示当前用户发送的聊天消息，绿色气泡\r\n        html = \"<div class=\\\"el-row\\\" style=\\\"padding: 5px 0; margin-right: 5px;\\\">\\n\" +\r\n            \"  <div class=\\\"el-col el-col-22\\\" style=\\\"text-align: right; padding-right: 5px\\\">\\n\" +\r\n            \"    <div style=\\\"color: white; text-align: center; border-radius: 10px; font-family: sans-serif;\" +\r\n            \" padding: 5px; width:auto; max-width: 50vw; word-wrap: break-word; display:inline-block !important; box-shadow: 0 5px 20px 1px rgba(0, 0, 0, 0.3);\" +\r\n            \" background-color: forestgreen;\\\">\" + text + \"</div>\\n\" +\r\n            \"  </div>\\n\" +\r\n            \"  <div class=\\\"el-col el-col-2\\\">\\n\" +\r\n            \"  <span class=\\\"el-avatar el-avatar--circle\\\" style=\\\"height: 30px; width: 30px; line-height: 40px;\\\">\\n\" +\r\n            \"    <img src=\\\"\" + nowUser + \"\\\" style=\\\"object-fit: cover;\\\">\\n\" +\r\n            \"  </span>\\n\" +\r\n            \"  </div>\\n\" +\r\n            \"</div>\";\r\n      } else if (remoteUser) {   // remoteUser表示远程用户聊天消息，蓝色的气泡\r\n        html = \"<div class=\\\"el-row\\\" style=\\\"padding: 5px 0;\\\">\\n\" +\r\n            \"  <div class=\\\"el-col el-col-2\\\" style=\\\"text-align: right\\\">\\n\" +\r\n            \"  <span class=\\\"el-avatar el-avatar--circle\\\" style=\\\"height: 30px; width: 30px; line-height: 40px;\\\">\\n\" +\r\n            \"    <img src=\\\"\" + remoteUser + \"\\\" style=\\\"object-fit: cover;\\\">\\n\" +\r\n            \"  </span>\\n\" +\r\n            \"  </div>\\n\" +\r\n            \"  <div class=\\\"el-col el-col-22\\\" style=\\\" text-align: left; padding-left: 10px\\\">\\n\" +\r\n            \"    <div style=\\\"color: white; text-align: center; border-radius: 10px; font-family: sans-serif;\" +\r\n            \" padding: 5px; width:auto; max-width: 50vw; word-wrap: break-word; display:inline-block !important; box-shadow: 0 5px 20px 1px rgba(0, 0, 0, 0.3);\" +\r\n            \" background-color: deepskyblue;\\\">\" + text + \"</div>\\n\" +\r\n            \"  </div>\\n\" +\r\n            \"</div>\";\r\n      }\r\n      this.content += html;\r\n      //下两行为滚动scrollDiv(refs上)到最下面\r\n      this.$nextTick(() => {\r\n        const container = this.$refs.scrollDiv;\r\n        container.scrollTop = container.scrollHeight;\r\n      });\r\n    },\r\n    init() {\r\n      let username = this.user.no;\r\n      console.log(\"当前用户：\" + username);\r\n      let _this = this;\r\n      if (typeof (WebSocket) == \"undefined\") {\r\n        console.log(\"您的浏览器不支持WebSocket\");\r\n      } else {\r\n        console.log(\"您的浏览器支持WebSocket\");\r\n        let socketUrl = \"wss://\" + this.$httpUrl.replace(\"https://\", \"\").replace(/\\s/g, \"\") + \"/imserver/\" + username;\r\n        if (socket != null) {\r\n          socket.close();\r\n          socket = null;\r\n        }\r\n        // 开启一个websocket服务\r\n        socket = new WebSocket(socketUrl);\r\n        //打开事件\r\n        socket.onopen = function () {\r\n          console.log(\"websocket已打开\");\r\n        };\r\n        //  浏览器端收消息，获得从服务端发送过来的文本消息\r\n        socket.onmessage = function (msg) {\r\n          console.log(\"收到数据====\" + msg.data)\r\n          let data = JSON.parse(msg.data)  // 对收到的json数据进行解析， 类似这样的： {\"users\": [{\"username\": \"zhang\"},{ \"username\": \"admin\"}]}\r\n          if (data.users) {  // 获取在线人员信息\r\n            _this.users = data.users.filter(user => user.username !== username) // 获取当前连接的所有用户信息，并且排除自身，自己不会出现在自己的聊天列表里\r\n            if (!_this.chatUser && data.users.length > 1) _this.history(data.users.filter(user => user.username !== username)[0].username);\r\n          } else {\r\n            // 如果服务器端发送过来的json数据 不包含 users 这个key，那么发送过来的就是聊天文本json数据\r\n            //  // {\"from\": \"zhang\", \"text\": \"hello\"}\r\n            if (data.from === _this.chatUser) {\r\n              _this.messages.push(data)\r\n              // 构建消息内容\r\n              _this.createContent(data.avatar ? data.avatar : \"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\", null, data.text)\r\n            }\r\n            else {\r\n              _this.users.forEach(user=>{\r\n                if(user.username === data.from){\r\n                  user.newMessage+=1;\r\n                }\r\n              });\r\n            }\r\n          }\r\n        };\r\n        //关闭事件\r\n        socket.onclose = function () {\r\n          console.log(\"websocket已关闭\");\r\n        };\r\n        //发生了错误事件\r\n        socket.onerror = function () {\r\n          console.log(\"websocket发生了错误\");\r\n        }\r\n      }\r\n    },\r\n\r\n  },\r\n\r\n\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n    <div>\r\n      <el-row style=\"display: flex; justify-content: space-between; height: calc(100vh - 70px);\">\r\n        <el-col :span=\"4\" style=\"margin-right: 5px;\">\r\n          <el-card style=\"height: 100%; background-color: #f3f3f3; overflow-y: auto; color: #333\">\r\n            <div style=\"text-align: center;\">\r\n              <el-avatar :size=\"40\" :src=\"this.user.avatar\">我</el-avatar>\r\n            </div>\r\n            <div v-for=\"user in users\" :key=\"user.username\" style=\"padding: 5px 0; text-align: center;\" @click=\"history(user.username)\">\r\n<!--              badge新消息气泡-->\r\n              <el-badge :value=\"user.newMessage\" :max=\"10\" :hidden=\"user.newMessage===0\" style=\"width: 100%;\">\r\n                <el-avatar :size=\"40\" :src=\"user.avatar\" >\r\n                  {{ user.username.charAt(0) }}\r\n                </el-avatar>\r\n              </el-badge>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n\r\n        <el-col :span=\"24\">\r\n          <div style=\"height: 100%; display: flex; align-items: center; flex-direction: column;\">\r\n            <div style=\"text-align: center; line-height: 30px; font-size: large; font-weight: bold; margin-bottom: 10px;\">\r\n              {{ chatUser?(chatUser): \"请选择用户\" }}\r\n            </div>\r\n<!--            :style=\"{ 'background-image': 'url(' + this.chatBack + ')'}\"-->\r\n            <div ref=\"scrollDiv\" style=\"height: 68vh; width: 100%; overflow:auto; margin-bottom: 10px;\"\r\n                 v-html=\"content\"></div>\r\n            <div style=\"position: fixed;bottom: 30px;\">\r\n              <div style=\"width: 100%; display: flex; justify-items: center; justify-content: center;\">\r\n                <el-input v-model=\"text\" :autosize=\"{ minRows: 2, maxRows: 3}\" placeholder=\"消息\" resize=\"none\"\r\n                          show-word-limit\r\n                          style=\"width: 70%;font-size: medium;\"\r\n                          type=\"textarea\" @keyup.enter.native=\"send\"></el-input>\r\n                <el-button size=\"mini\" type=\"primary\" class=\"sendButton\" @click=\"send\" style=\"font-size: 1em; border-radius: 0 20px 20px 0; box-shadow: 0 5px 20px 0 rgba(0, 0, 0, 0.3);\">发送</el-button>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n*{\r\n  ::-webkit-scrollbar {\r\n    /*隐藏滚轮*/\r\n    display: none;\r\n  }\r\n}\r\n.sendButton{\r\n  box-shadow: 0 2px 12px 0 rgba(70, 65, 65, 0.1);\r\n  transition: 0.3s;\r\n}\r\n.sendButton:hover{\r\n  box-shadow: 0 0 20px #009dff,\r\n  0 0 40px #3fbaff,\r\n  0 0 80px #78cbff,\r\n  0 0 120px #97d5ff;\r\n  font-weight: bold;\r\n}\r\n\r\n/deep/ .el-card__body{\r\n  padding: 10px;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatMobile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatMobile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatMobile.vue?vue&type=template&id=471bdf6e&scoped=true&\"\nimport script from \"./ChatMobile.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatMobile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatMobile.vue?vue&type=style&index=0&id=471bdf6e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"471bdf6e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","user","avatar","_v","_l","users","key","username","on","$event","history","newMessage","_s","charAt","chatUser","ref","domProps","content","minRows","maxRows","nativeOn","type","indexOf","_k","keyCode","send","apply","arguments","model","value","text","callback","$$v","expression","staticClass","staticRenderFns","socket","name","data","circleUrl","chatBack","require","JSON","parse","sessionStorage","getItem","isCollapse","historyChat","messages","beforeMount","created","init","methods","userNo","forEach","$axios","post","$httpUrl","pageSize","pageNum","param","user1","user2","no","then","res","code","chatItem","fromNo","createContent","fromAvatar","WebSocket","console","log","message","from","to","stringify","push","$message","remoteUser","nowUser","html","$nextTick","container","$refs","scrollDiv","scrollTop","scrollHeight","_this","socketUrl","replace","close","onopen","onmessage","msg","filter","length","onclose","onerror","component"],"sourceRoot":""}