"use strict";(self["webpackChunkwms_web"]=self["webpackChunkwms_web"]||[]).push([[22,339],{7022:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"light-mode",attrs:{id:"body"}},[e("HomeTop"),e("el-button",{staticClass:"floating-button",attrs:{circle:"",icon:"el-icon-plus",type:"primary"},on:{click:t.update}}),t.isVisible?e("el-button",{staticClass:"scroll-to-top",attrs:{circle:"",icon:"el-icon-top"},on:{click:t.scrollToTop}}):t._e(),e("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center"}},[t.isMobile?t._e():e("el-carousel",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"},attrs:{interval:4e3,height:"300px",type:"card"}},t._l(t.srcList,(function(s,i){return e("el-carousel-item",{key:i,staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e("el-image",{staticClass:"imgs",staticStyle:{width:"550px"},attrs:{"preview-src-list":t.srcList,src:s}})],1)})),1),e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",placeholder:"查询帖子"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchLoad.apply(null,arguments)}},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{circle:"",icon:"el-icon-search"},on:{click:t.searchLoad}}),e("el-button",{attrs:{circle:"",icon:"el-icon-refresh-left",type:"info"},on:{click:t.restParam}})],1),e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","margin-top":"30px"}},[t._l(t.tableData,(function(i,a){return e("el-card",{key:a,staticClass:"box-card"},[e("div",{on:{click:function(e){return t.goToPost(i.post.id)}}},[t.isMobile?t._e():e("div",{staticClass:"cardHead",staticStyle:{display:"flex","align-items":"center","justify-content":"start"}},[e("span",{staticClass:"text2"},[t._v(t._s(i.post.title))])]),e("div",{staticClass:"cardCenter"},[t.isMobile?t._e():e("div",{staticClass:"text item",staticStyle:{"padding-left":"0.5vw","min-height":"18px","max-height":"90%",width:"40%"}},[e("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"ql-editor",domProps:{innerHTML:t._s(i.post.name)}})]),t.isMobile?e("div",{staticClass:"cardHead",staticStyle:{display:"flex","justify-content":"start"}},[e("span",{staticClass:"text2"},[t._v(t._s(i.post.title))])]):t._e(),e("el-image",{staticClass:"postImg",attrs:{lazy:"",src:i.Img?i.Img:s(3898)}})],1),e("div",{staticClass:"control1"},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("el-avatar",{staticStyle:{margin:"0px 5px"},attrs:{size:30,src:i.post.avatar}},[t._v(t._s(i.post.userno.charAt(0))+" ")]),t.isMobile?t._e():e("span",{staticStyle:{"font-size":"0.7vw"}},[t._v(t._s(i.post.userno))]),e("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-thumb",size:"small"},on:{click:function(e){return t.like(i.post.id)}}},[t._v(t._s(i.post.likenum)+" ")]),e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-chat-dot-square",size:"small"},on:{click:function(e){return t.post2(i.post.id)}}},[t._v(t._s(i.post2.length)+" ")]),e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{circle:"",icon:"el-icon-share",size:"small"},on:{click:function(e){return t.copy(i.post.name)}}})],1)],1),e("div",{staticClass:"text3"},[t._v(" "+t._s(new Date(i.post.time).getMonth()+1)+"/"+t._s(new Date(i.post.time).getDate())+" "+t._s(new Date(i.post.time).getHours())+":"+t._s(new Date(i.post.time).getMinutes())+" ")])])])])})),0===t.tableData.length&&""===t.text?e("el-skeleton",{staticStyle:{width:"60%"},attrs:{rows:8,animated:""}}):t._e(),e("div",{staticStyle:{width:"100%",margin:"20px 0","text-align":"center"}},[e("el-button",{staticStyle:{width:"50%"},attrs:{loading:t.loading},on:{click:t.autoLoad}},[t._v(t._s(t.loading?"稍等片刻 ...":"更 多"))])],1)],2)],1),e("el-dialog",{attrs:{"before-close":t.handleClose,visible:t.centerDialogVisible,fullscreen:t.isMobile,center:"",title:"发表",width:"80%"},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[e("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px","status-icon":""}},[e("el-form-item",{staticStyle:{position:"relative",left:"5vw"},attrs:{label:"标题",prop:"title"}},[e("el-col",{attrs:{span:20}},[e("el-input",{staticStyle:{"font-size":"20px","font-weight":"bold"},attrs:{placeholder:"请输入标题",type:"textarea"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1)],1),e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.quillUpdateImg,expression:"quillUpdateImg"}]},[e("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-upload",{staticClass:"avatar-uploader",attrs:{action:`${this.postUrl}/files/upPost`,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-error":t.handleAvatarError,"before-upload":t.beforeAvatarUpload}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.centerDialogVisible=!1,this.loading=!1}}},[t._v("取 消")]),e("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.save}},[t._v(t._s(t.loading?"稍等片刻 ...":"确 定"))])],1)],1)],1)},a=[],l=s(7715),o=s(5339),n={name:"Home",components:{HomeTop:o["default"],quillEditor:l.quillEditor},data(){return{pageSize:10,pageNum:1,postUrl:this.$httpUrl,quillUpdateImg:!1,isMobile:!1,isVisible:!1,centerDialogVisible:!1,loading:!1,user:"",text:"",tableData:[],srcList:["https://getwallpapers.com/wallpaper/full/a/2/2/1327355-best-fallout-4-vault-tec-wallpaper-1920x1200.jpg","https://vignette.wikia.nocookie.net/scp/images/8/86/800px-SCP002.jpg/revision/latest?cb=20121125025010&path-prefix=es",s(5180)],form:{name:"",title:""},rules:{name:[{required:!0,message:"正文不得为空",trigger:"blur"}],title:[{required:!0,message:"标题不得为空",trigger:"blur"}]},editorOption:{placeholder:"请在这里输入内容",modules:{toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["image"]],handlers:{image:function(t){t?document.querySelector(".avatar-uploader input").click():this.quill.format("image",!1)}}}}}}},methods:{loadPost(){this.$axios.post(this.$httpUrl+"/post/listPage",{pageSize:this.pageSize,pageNum:this.pageNum,param:{name:this.text}}).then((t=>t.data)).then((t=>{200===t.code?(0===t.data.length&&this.$message({showClose:!0,message:"没有更多啦",type:"info"}),this.tableData=[...this.tableData,...t.data]):alert("获取失败"),this.loading=!1}))},searchLoad(){this.tableData=[],this.pageNum=1,this.loadPost()},autoLoad(){this.loading=!0,this.pageNum+=1,this.loadPost()},restParam(){this.text="",this.tableData=[],this.pageNum=1,this.loadPost()},post2(t){this.$prompt("发表您的评论","评论",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"不能发空的喔"}).then((({value:e})=>{this.$axios.post(this.$httpUrl+"/post2/save",{postId:t,userId:this.user.id,content:e}).then((t=>t.data)).then((t=>{200===t.code?(this.$notify({title:"感谢您的贡献，"+this.user.name,message:"上传成功",type:"success"}),this.loadPost()):this.$notify.error({title:"oops！发生了一些问题",message:"服务器开小差啦~请稍后再试"})}))})).catch((()=>{}))},save(){let t=this.form.name.replace(/<pre class="ql-syntax" spellcheck="false">/g,'<pre class="ql-syntax line-numbers language-js" spellcheck="false"><code class="language-js">');t=t.replace(/<\/pre>/g,"</code></pre>"),this.$refs["form"].validate((e=>{if(!e)return!1;this.loading=!0,this.$axios.post(this.$httpUrl+"/post/save",{userid:this.user.id,name:t,title:this.form.title}).then((t=>t.data)).then((t=>{200===t.code?(this.centerDialogVisible=!1,this.$notify({title:"感谢您的贡献，"+this.user.name,message:"上传成功",type:"success"}),this.loadPost(),this.loading=!1):(this.$notify.error({title:"oops！发生了一些问题",message:"服务器开小差啦~请稍后再试"}),this.loading=!1)})),this.resetForm("form")}))},update(){this.centerDialogVisible=!0,this.$nextTick((()=>{this.resetForm("form")}))},like(t){this.$axios.get(this.$httpUrl+"/post/like?id="+t).then((t=>t.data)).then((t=>{200===t.code?(this.$message({showClose:!0,message:"点赞成功",type:"success"}),this.loadPost()):this.$message({showClose:!0,message:"服务器开小差啦~请稍后重试",type:"error"})}))},resetForm(t){this.$refs[t].resetFields()},copy(t){const e=document.createElement("textarea");e.textContent=t,e.style.position="fixed",document.body.appendChild(e),e.select();try{document.execCommand("copy"),this.$notify({title:"内容已复制",message:"您可以粘贴分享",type:"success"})}catch(s){return this.$notify({title:"复制失败",type:"error"}),!1}finally{document.body.removeChild(e)}},handleScroll(){this.isVisible=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleClose(t){this.$confirm("确认关闭？您的信息不会保存").then((()=>{t()})).catch((()=>{}))},checkIfMobile(){this.isMobile=window.innerWidth<768},goToPost(t){window.open("/#/Post/"+t,"_blank")},handleAvatarSuccess(t){let e=this.$refs.myQuillEditor.quill;if(null!==t.sinaPath){let s=e.selection.savedRange.index;e.insertEmbed(s,"image",t.data),e.setSelection(s+1),this.quillUpdateImg=!1}else this.$message.error("图片插入失败")},beforeAvatarUpload(t){console.log(t),this.quillUpdateImg=!0},handleAvatarError(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}},beforeMount(){this.loadPost(),this.user=JSON.parse(sessionStorage.getItem("CurUser"))},created(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.checkIfMobile)},mounted(){this.checkIfMobile(),window.addEventListener("resize",this.checkIfMobile)},filters:{truncate:function(t,e,s){return s=s||"...",e=e||30,t.length<=e?t:t.substring(0,e)+s}}},r=n,c=s(1001),d=(0,c.Z)(r,i,a,!1,null,"35762528",null),p=d.exports},5339:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("section",[e("h2",{staticClass:"wow fadeInRightBig",staticStyle:{display:"flex","align-items":"center"}},[t._v(" XTY-Open source learning website "),e("a",{attrs:{href:"https://github.com/Greenhorn00/XTYOpen_Web",target:"_blank"}},[e("button",{staticClass:"Btn"},[e("span",{staticClass:"svgContainer"},[e("svg",{attrs:{fill:"white",viewBox:"0 0 496 512",height:"1.6em"}},[e("path",{attrs:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}})])]),e("span",{staticClass:"BG"})])]),e("a",{attrs:{href:"https://www.facebook.com/profile.php?id=100091770885571",target:"_blank"}},[e("button",{staticClass:"Btn"},[e("span",{staticClass:"svgContainer"},[e("svg",{staticClass:"svgIcon",attrs:{viewBox:"0 0 320 512",height:"1.3em",xmlns:"http://www.w3.org/2000/svg",fill:"white"}},[e("path",{attrs:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"}})])]),e("span",{staticClass:"BG",staticStyle:{background:"#1877f2"}})])]),e("a",{attrs:{href:"https://u.wechat.com/gCqJxk1iOM0rURyME_RRjjE",target:"_blank"}},[e("button",{staticClass:"Btn"},[e("span",{staticClass:"svgContainer"},[e("svg",{staticClass:"icon",attrs:{height:"1.8em",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"white"}},[e("path",{attrs:{d:"M690.1 377.4c5.9 0 11.8 0.2 17.6 0.5-24.4-128.7-158.3-227.1-319.9-227.1C209 150.8 64 271.4 64 420.2c0 81.1 43.6 154.2 111.9 203.6 5.5 3.9 9.1 10.3 9.1 17.6 0 2.4-0.5 4.6-1.1 6.9-5.5 20.3-14.2 52.8-14.6 54.3-0.7 2.6-1.7 5.2-1.7 7.9 0 5.9 4.8 10.8 10.8 10.8 2.3 0 4.2-0.9 6.2-2l70.9-40.9c5.3-3.1 11-5 17.2-5 3.2 0 6.4 0.5 9.5 1.4 33.1 9.5 68.8 14.8 105.7 14.8 6 0 11.9-0.1 17.8-0.4-7.1-21-10.9-43.1-10.9-66 0-135.8 132.2-245.8 295.3-245.8z m-194.3-86.5c23.8 0 43.2 19.3 43.2 43.1s-19.3 43.1-43.2 43.1c-23.8 0-43.2-19.3-43.2-43.1s19.4-43.1 43.2-43.1z m-215.9 86.2c-23.8 0-43.2-19.3-43.2-43.1s19.3-43.1 43.2-43.1 43.2 19.3 43.2 43.1-19.4 43.1-43.2 43.1z"}}),e("path",{attrs:{d:"M866.7 792.7c56.9-41.2 93.2-102 93.2-169.7 0-124-120.8-224.5-269.9-224.5-149 0-269.9 100.5-269.9 224.5S540.9 847.5 690 847.5c30.8 0 60.6-4.4 88.1-12.3 2.6-0.8 5.2-1.2 7.9-1.2 5.2 0 9.9 1.6 14.3 4.1l59.1 34c1.7 1 3.3 1.7 5.2 1.7 2.4 0 4.7-0.9 6.4-2.6 1.7-1.7 2.6-4 2.6-6.4 0-2.2-0.9-4.4-1.4-6.6-0.3-1.2-7.6-28.3-12.2-45.3-0.5-1.9-0.9-3.8-0.9-5.7 0.1-5.9 3.1-11.2 7.6-14.5zM600.2 587.2c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c0 19.8-16.2 35.9-36 35.9z m179.9 0c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c-0.1 19.8-16.2 35.9-36 35.9z"}})])]),e("span",{staticClass:"BG",staticStyle:{background:"#23A463"}})])]),e("a",{attrs:{href:"https://qm.qq.com/q/yH0wQt7coE",target:"_blank"}},[e("button",{staticClass:"Btn"},[e("span",{staticClass:"svgContainer"},[e("svg",{staticClass:"icon",attrs:{height:"1.8em",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"white"}},[e("path",{attrs:{d:"M849.621 619.904a1364.352 1364.352 0 0 0-28.8-80.47l-38.826-95.829c0-1.109 0.512-19.968 0.512-29.696 0-163.882-78.208-328.576-270.507-328.576S241.493 250.027 241.493 413.867c0 9.77 0.47 28.629 0.512 29.738l-38.826 95.83a1398.485 1398.485 0 0 0-28.8 80.469c-36.694 116.779-24.79 165.12-15.744 166.187 19.413 2.304 75.562-87.894 75.562-87.894 0 52.224 27.179 120.406 86.016 169.643-21.973 6.699-48.938 17.024-66.304 29.653-15.573 11.392-13.61 23.04-10.794 27.734 12.33 20.522 211.413 13.098 268.928 6.698 57.472 6.4 256.597 13.824 268.885-6.741 2.816-4.693 4.779-16.299-10.795-27.69-17.365-12.63-44.33-22.955-66.346-29.697 58.837-49.194 86.016-117.376 86.016-169.642 0 0 56.149 90.24 75.562 87.893 9.046-1.067 20.907-49.365-15.786-166.144",fill:"#CDCDCD"}})])]),e("span",{staticClass:"BG",staticStyle:{background:"#3d3d3d"}})])])]),e("p",{staticClass:"wow bounceInLeft"},[t._v(" This website is created by VUE+Springboot. Due to limited technology, there are many areas for improvement. If you have any good suggestions, you can add my WeChat account: x1522345857 for discussion and learning. Thank you for the correction and guidance. I hope every full stack has learned something, thank you. ")])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner"},[e("h2",{staticClass:"wow fadeInDown",attrs:{id:"text"}},[t._v("XTYOpen")]),e("div",{staticClass:"clouds"},[e("img",{staticStyle:{"--i":"1"},attrs:{src:s(5634)}}),e("img",{staticStyle:{"--i":"2"},attrs:{src:s(487)}}),e("img",{staticStyle:{"--i":"3"},attrs:{src:s(5060)}}),e("img",{staticStyle:{"--i":"4"},attrs:{src:s(6512)}}),e("img",{staticStyle:{"--i":"5"},attrs:{src:s(501)}}),e("img",{staticStyle:{"--i":"10"},attrs:{src:s(5634)}}),e("img",{staticStyle:{"--i":"9"},attrs:{src:s(487)}}),e("img",{staticStyle:{"--i":"8"},attrs:{src:s(5060)}}),e("img",{staticStyle:{"--i":"7"},attrs:{src:s(6512)}}),e("img",{staticStyle:{"--i":"6"},attrs:{src:s(501)}})])])}],l={name:"HomeTop",data(){return{i:1}},methods:{setH2(){requestAnimationFrame((()=>{let t=document.getElementById("text"),e=window.scrollY;t.style.marginBottom=1.2*e+"px"}))}},mounted(){window.addEventListener("scroll",this.setH2)},beforeDestroy(){window.removeEventListener("scroll",this.setH2)}},o=l,n=s(1001),r=(0,n.Z)(o,i,a,!1,null,"0a80f270",null),c=r.exports},5180:function(t,e,s){t.exports=s.p+"img/cloud00.1217aac2.jpg"},5634:function(t,e,s){t.exports=s.p+"img/cloud1.0d43749f.png"},487:function(t,e,s){t.exports=s.p+"img/cloud2.73b0df68.png"},5060:function(t,e,s){t.exports=s.p+"img/cloud3.189ff7ba.png"},6512:function(t,e,s){t.exports=s.p+"img/cloud4.8f445f87.png"},501:function(t,e,s){t.exports=s.p+"img/cloud5.0fa74dfc.png"},3898:function(t,e,s){t.exports=s.p+"img/homeB.78797a4a.jpg"}}]);
//# sourceMappingURL=22.a57570e3.js.map