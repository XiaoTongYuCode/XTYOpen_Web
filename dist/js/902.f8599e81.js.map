{"version":3,"file":"js/902.f8599e81.js","mappings":"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","sources":["webpack://wms-web/./src/components/Post.vue","webpack://wms-web/src/components/Post.vue","webpack://wms-web/./src/components/Post.vue?2a8b","webpack://wms-web/./src/components/Post.vue?9c6c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.isVisible)?_c('el-button',{staticClass:\"scroll-to-top\",attrs:{\"circle\":\"\",\"type\":\"success\",\"icon\":\"el-icon-top\"},on:{\"click\":_vm.scrollToTop}}):_vm._e(),_c('el-page-header',{staticStyle:{\"height\":\"25px\",\"align-items\":\"center\",\"margin-left\":\"1vw\",\"margin-top\":\"1vw\"},attrs:{\"content\":\"详情\"},on:{\"back\":_vm.goBack}}),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\",\"margin-top\":\"30px\"}},_vm._l((_vm.PostMain),function(item,i){return _c('el-card',{key:i,staticClass:\"box-card\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[(!_vm.isMobile)?_c('div',[_c('el-avatar',{staticStyle:{\"margin\":\"0px 10px\"},attrs:{\"size\":40,\"src\":item.post.avatar}},[_vm._v(_vm._s(item.post.userno.charAt(0)))]),_c('span',{staticStyle:{\"position\":\"relative\",\"top\":\"-12px\",\"font-size\":\"1vw\"}},[_vm._v(_vm._s(item.post.userno))])],1):_vm._e(),_c('div',{staticClass:\"box-card-title\"},[(!_vm.isMobile)?_c('span',{staticStyle:{\"font-weight\":\"10\",\"font-size\":\"1em\",\"color\":\"#777777\"}},[_vm._v(_vm._s(item.post.id)+\".\")]):_vm._e(),_c('span',{staticClass:\"text2\",staticStyle:{\"padding-left\":\"10px\"}},[_vm._v(_vm._s(item.post.title))])]),_c('div',{staticStyle:{\"font-weight\":\"10\",\"font-size\":\"1em\"}},[_vm._v(\" \"+_vm._s(new Date(item.post.time).getMonth() + 1)+\"/\"+_vm._s(new Date(item.post.time).getDate())+\" \"),_c('br'),_vm._v(\" \"+_vm._s(new Date(item.post.time).getHours())+\":\"+_vm._s(new Date(item.post.time).getMinutes())+\" \")])]),(_vm.isMobile)?_c('div',[_c('el-avatar',{staticStyle:{\"margin\":\"0 10px\"},attrs:{\"size\":40,\"src\":item.post.avatar}},[_vm._v(_vm._s(item.post.userno.charAt(0)))]),_c('span',{staticStyle:{\"position\":\"relative\",\"top\":\"-12px\",\"font-size\":\"1em\"}},[_vm._v(_vm._s(item.post.userno))])],1):_vm._e(),_c('div',{staticClass:\"text item\",staticStyle:{\"white-space\":\"pre-line\",\"padding\":\"0 15px\",\"min-height\":\"150px\"}},[_c('div',{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],staticClass:\"ql-editor\",domProps:{\"innerHTML\":_vm._s(item.post.name)}})]),(_vm.user.id!==0)?_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\"}},[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"color\":\"#0043a1\",\"text-shadow\":\"0px 2px 3px rgb(73,230,255)\",\"position\":\"relative\",\"top\":\"5px\"}},[_vm._v(\" \"+_vm._s(item.post.likenum)+\" \")]),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"circle\":\"\",\"icon\":\"el-icon-thumb\",\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.like(item.post.id)}}}),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"circle\":\"\",\"icon\":\"el-icon-share\",\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.copy(item.post.name)}}}),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"circle\":\"\",\"icon\":\"el-icon-chat-dot-square\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.post2(item.post.id)}}}),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"circle\":\"\",\"icon\":\"el-icon-star-off\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.collect(item.post.id)}}})],1):_vm._e(),_vm._l((item.post2),function(item2,i){return _c('div',{key:i},[(i===0)?_c('el-divider'):_vm._e(),_c('div',{staticStyle:{\"width\":\"100%\",\"min-height\":\"55px\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('el-avatar',{staticStyle:{\"margin\":\"0px 10px\"},attrs:{\"size\":30,\"src\":item2.avatar,\"shape\":\"square\"}},[_vm._v(_vm._s(item.post.userno.charAt(0)))]),_c('div',[_c('span',{staticStyle:{\"font-size\":\"12px\",\"font-weight\":\"lighter\",\"color\":\"#6e6e6e\"}},[_vm._v(\" \"+_vm._s(item2.userName))]),(item2.roleId !== 2)?_c('el-tag',{staticStyle:{\"margin-left\":\"5px\",\"font-size\":\"10px\"},attrs:{\"size\":\"mini\",\"type\":item2.roleId === 0 ? 'danger' : (item2.roleId === 1 ? 'warning' : 'info'),\"effect\":\"plain\"}},[_vm._v(\" \"+_vm._s(item2.roleId === 0 ? \"超管\" : (item2.roleId === 1 ? \" 管理员\" : \" \")))]):_vm._e(),_c('br'),_c('span',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\" \"+_vm._s(item2.content))])],1)],1),_c('div',{staticStyle:{\"font-weight\":\"10\",\"font-size\":\"14px\"}},[_vm._v(\" \"+_vm._s(new Date(item2.time).getMonth() + 1)+\"/\"+_vm._s(new Date(item2.time).getDate())+\" \"+_vm._s(new Date(item2.time).getHours())+\":\"+_vm._s(new Date(item2.time).getMinutes())+\" \")])])],1)})],2)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/multi-word-component-names -->\r\n<script >\r\n\r\nexport default {\r\n  name: \"Post\",\r\n  data(){\r\n    return{\r\n      postId:'',\r\n      PostMain:[],\r\n      isMobile: false,\r\n      isVisible: false, //回到顶部\r\n      user:'',\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.loadPost();\r\n    this.user = JSON.parse(sessionStorage.getItem('CurUser'));\r\n  },\r\n  created() {\r\n    this.postId = this.$route.params.postId;\r\n    // 使用postId做一些事情\r\n\r\n    window.addEventListener('scroll', this.handleScroll);//滚动至顶部\r\n  },\r\n  methods:{\r\n    loadPost() {\r\n      this.$axios.post(this.$httpUrl + '/post/listPage', {\r\n        param: {\r\n          postId: this.$route.params.postId\r\n        }\r\n      }).then(res => res.data).then(res => {\r\n        if (res.code === 200) {\r\n          this.PostMain = res.data;\r\n        } else {\r\n          alert('获取失败')\r\n        }\r\n      })\r\n    },\r\n    post2(id){\r\n      this.$prompt('发表您的评论', '评论', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        inputErrorMessage: '不能发空的喔'\r\n      }).then(({ value }) => {\r\n        this.$axios.post(this.$httpUrl + '/post2/save', {\r\n          postId: id,\r\n          userId: this.user.id,\r\n          content: value\r\n        }).then(res => res.data)\r\n            .then(res => {\r\n              if (res.code === 200) {\r\n                this.$notify({\r\n                  title: '感谢您的贡献，' + this.user.name,\r\n                  message: '上传成功',\r\n                  type: 'success'\r\n                });\r\n                this.loadPost();\r\n              } else {\r\n                this.$notify.error({\r\n                  title: 'oops！发生了一些问题',\r\n                  message: '服务器开小差啦~请稍后再试'\r\n                });\r\n              }\r\n            })\r\n      }).catch(() => {\r\n\r\n      });\r\n    },\r\n    like(postId) {\r\n      this.$axios.get(this.$httpUrl + '/post/like?id=' + postId).then(res => res.data)\r\n          .then(res => {\r\n            if (res.code === 200) {\r\n              this.$message({\r\n                showClose: true,\r\n                message: '点赞成功',\r\n                type: 'success',\r\n              });\r\n              this.loadPost();\r\n            } else {\r\n              this.$message({\r\n                showClose: true,\r\n                message: '服务器开小差啦~请稍后重试',\r\n                type: 'error'\r\n              });\r\n            }\r\n          })\r\n    },\r\n    copy(text){\r\n      const textArea = document.createElement('textarea');\r\n      textArea.textContent = text;\r\n      textArea.style.position = 'fixed';\r\n      document.body.appendChild(textArea);\r\n      textArea.select();\r\n      try {\r\n        document.execCommand('copy'); // 把要复制的内容拷贝到剪贴板\r\n        this.$notify({\r\n          title: '内容已复制',\r\n          message: '您可以粘贴分享',\r\n          type: 'success'\r\n        });\r\n      } catch(ex) {\r\n        this.$notify({\r\n          title: '复制失败',\r\n          type: 'error'\r\n        });\r\n        return false;\r\n      } finally {\r\n        document.body.removeChild(textArea); // 移除插入的文本域节点\r\n      }\r\n    },\r\n    collect(postId){\r\n      this.$axios.get(this.$httpUrl + '/userpost/add?userId=' + this.user.id + '&postId=' + postId).then(res => res.data)\r\n          .then(res => {\r\n            if (res.code === 200) {\r\n              if (res.data === 409){\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '您已收藏',\r\n                  type: 'success',\r\n                });\r\n              }else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '收藏成功',\r\n                  type: 'success',\r\n                });\r\n              }\r\n            } else {\r\n              this.$message({\r\n                showClose: true,\r\n                message: '服务器开小差啦~请稍后重试',\r\n                type: 'error'\r\n              });\r\n            }\r\n          })\r\n    },\r\n    goBack() {\r\n      this.$router.replace('/Home') // Go back one step in history\r\n    },\r\n    checkIfMobile() {\r\n      this.isMobile = window.innerWidth < 768; // Adjust the value based on your requirements\r\n    },\r\n\r\n    //滚动到顶部\r\n    handleScroll() {\r\n      this.isVisible = window.scrollY > 100; // 设置一个阈值，当页面滚动超过100像素时显示按钮\r\n    },\r\n    scrollToTop() {\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth' // 平滑滚动到顶部\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.checkIfMobile();\r\n    window.addEventListener('resize', this.checkIfMobile);\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <el-button v-if=\"isVisible\" circle class=\"scroll-to-top\" type=\"success\" icon=\"el-icon-top\" @click=\"scrollToTop\"></el-button>\r\n\r\n    <el-page-header style=\"height: 25px; align-items: center; margin-left: 1vw; margin-top: 1vw;\" @back=\"goBack\" content=\"详情\">\r\n    </el-page-header>\r\n\r\n    <div style=\"display: flex; flex-direction:column;   align-items: center; margin-top: 30px;\">\r\n      <el-card v-for=\"(item,i) in PostMain\" :key=\"i\" class=\"box-card\">\r\n        <div slot=\"header\" style=\"display: flex; align-items: center; justify-content: space-between;\">\r\n          <div v-if=\"!isMobile\">\r\n            <el-avatar :size=\"40\" :src=\"item.post.avatar\" style=\"margin: 0px 10px;\">{{\r\n                item.post.userno.charAt(0)\r\n              }}</el-avatar>\r\n            <span style=\"position: relative; top: -12px;font-size: 1vw;\">{{ item.post.userno }}</span>\r\n          </div>\r\n\r\n          <div class=\"box-card-title\">\r\n            <span v-if=\"!isMobile\" style=\"font-weight: 10; font-size: 1em; color: #777777\">{{ item.post.id }}.</span>\r\n            <span class=\"text2\" style=\"padding-left: 10px;\">{{ item.post.title }}</span>\r\n          </div>\r\n\r\n          <div style=\"font-weight: 10; font-size: 1em;\" >\r\n            {{ new Date(item.post.time).getMonth() + 1 }}/{{ new Date(item.post.time).getDate() }} <br>\r\n            {{ new Date(item.post.time).getHours() }}:{{ new Date(item.post.time).getMinutes() }}\r\n          </div>\r\n        </div>\r\n        <div v-if=\"isMobile\">\r\n          <el-avatar :size=\"40\" :src=\"item.post.avatar\" style=\"margin: 0 10px;\">{{\r\n              item.post.userno.charAt(0)\r\n            }}</el-avatar>\r\n          <span style=\"position: relative; top: -12px;font-size: 1em;\">{{ item.post.userno }}</span>\r\n        </div>\r\n        <div class=\"text item\" style=\"white-space: pre-line; padding: 0 15px; min-height: 150px; \">\r\n          <div class=\"ql-editor\" v-html=\"item.post.name\" v-highlight></div>\r\n        </div>\r\n        <div style=\"display: flex; justify-content:flex-end;\" v-if=\"user.id!==0\">\r\n            <span\r\n                style=\"font-weight: bold; color: #0043a1; text-shadow: 0px 2px 3px rgb(73,230,255); position: relative; top: 5px;\">\r\n              {{ item.post.likenum }}\r\n            </span>\r\n          <el-button circle icon=\"el-icon-thumb\" size=\"small\" style=\"margin-left: 10px;\"\r\n                     type=\"success\" @click=\"like(item.post.id)\"></el-button>\r\n          <el-button circle icon=\"el-icon-share\" size=\"small\" style=\"margin-left: 10px;\"\r\n                     type=\"warning\" @click=\"copy(item.post.name)\"></el-button>\r\n          <el-button circle icon=\"el-icon-chat-dot-square\" size=\"small\" style=\"margin-left: 10px;\"\r\n                     type=\"primary\" @click=\"post2(item.post.id)\"></el-button>\r\n          <el-button circle icon=\"el-icon-star-off\" size=\"small\" style=\"margin-left: 10px;\"\r\n                     type=\"info\" @click=\"collect(item.post.id)\"></el-button>\r\n        </div>\r\n\r\n        <div v-for=\"(item2,i) in item.post2\" :key=\"i\" >\r\n          <el-divider v-if=\"i===0\"></el-divider>\r\n          <div style=\"width: 100%; min-height: 55px;display: flex; justify-content: space-between; \">\r\n            <div style=\"display: flex; align-items:center;\">\r\n              <el-avatar :size=\"30\" :src=\"item2.avatar\" shape=\"square\" style=\"margin: 0px 10px;\">{{ item.post.userno.charAt(0) }}</el-avatar>\r\n              <div>\r\n                <span style=\"font-size: 12px; font-weight: lighter; color: #6e6e6e\"> {{item2.userName}}</span>\r\n                <el-tag size=\"mini\" :type=\"item2.roleId === 0 ? 'danger' : (item2.roleId === 1 ? 'warning' : 'info')\" v-if=\"item2.roleId !== 2\" effect=\"plain\" style=\"margin-left: 5px; font-size: 10px;\">\r\n                  {{ item2.roleId === 0 ? \"超管\" : (item2.roleId === 1 ? \" 管理员\" : \" \") }}</el-tag>\r\n                <br><span style=\"font-size: 16px; \"> {{ item2.content }}</span>\r\n              </div>\r\n            </div>\r\n            <div style=\"font-weight: 10; font-size: 14px; \">\r\n              {{ new Date(item2.time).getMonth() + 1 }}/{{ new Date(item2.time).getDate() }}\r\n              {{ new Date(item2.time).getHours() }}:{{ new Date(item2.time).getMinutes() }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<style scoped>\r\n\r\n@media (min-width: 768px){\r\n  .box-card{\r\n    width: 85%; min-height: 300px; margin: 20px;\r\n  }\r\n\r\n  .box-card-title{\r\n    position: relative; left: -25px;\r\n  }\r\n\r\n  .text{\r\n    font-size: 1.2em;\r\n  }\r\n\r\n  .text2{\r\n    font-size: 1.5em;\r\n  }\r\n\r\n  .scroll-to-top {\r\n    position: fixed;\r\n    bottom: 30px;\r\n    margin-left: 20px;\r\n    font-size: 25px;\r\n    box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);\r\n  }\r\n}\r\n@media (min-width: 0px) and (max-width:768px){\r\n  .box-card{\r\n    width: 100%; min-height: 300px;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .box-card-title{\r\n    margin-right: 2px;\r\n  }\r\n\r\n  .text{\r\n    font-size: 1em;\r\n  }\r\n\r\n  .text2{\r\n    font-size: 1.2em;\r\n  }\r\n\r\n  .scroll-to-top {\r\n    position: fixed;\r\n    bottom: 30px;\r\n    margin-left: 10px;\r\n    font-size: 10px;\r\n    box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.2);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Post.vue?vue&type=template&id=91e3bdfc&scoped=true&\"\nimport script from \"./Post.vue?vue&type=script&lang=js&\"\nexport * from \"./Post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Post.vue?vue&type=style&index=0&id=91e3bdfc&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91e3bdfc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","isVisible","staticClass","attrs","on","scrollToTop","_e","staticStyle","goBack","_l","PostMain","item","i","key","slot","isMobile","post","avatar","_v","_s","userno","charAt","id","title","Date","time","getMonth","getDate","getHours","getMinutes","directives","name","rawName","domProps","user","likenum","$event","like","copy","post2","collect","item2","userName","roleId","content","staticRenderFns","data","postId","beforeMount","loadPost","JSON","parse","sessionStorage","getItem","created","$route","params","window","addEventListener","handleScroll","methods","$axios","$httpUrl","param","then","res","code","alert","$prompt","confirmButtonText","cancelButtonText","inputErrorMessage","value","userId","$notify","message","type","error","catch","get","$message","showClose","text","textArea","document","createElement","textContent","style","position","body","appendChild","select","execCommand","ex","removeChild","$router","replace","checkIfMobile","innerWidth","scrollY","scrollTo","top","behavior","mounted","component"],"sourceRoot":""}